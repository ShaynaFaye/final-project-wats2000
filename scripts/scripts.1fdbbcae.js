"use strict";angular.module("angularAppApp",["ngAnimate","ngAria","ngCookies","ngMessages","ngResource","ngRoute","ngSanitize","ngStorage","ngTouch"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"main"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl",controllerAs:"about"}).when("/favorites",{templateUrl:"views/favorites.html",controller:"FavoritesCtrl",controllerAs:"favorites"}).otherwise({redirectTo:"/"})}]),angular.module("angularAppApp").controller("MainCtrl",["$scope","current","$localStorage",function(a,b,c){a.searchItem="",a.currentPage=0,a.resultsPerPage=10,a.currentRecipe="",a.getResults=function(){a.recipes=b.query({search:a.searchTerm,from:a.currentPage*a.resultsPerPage+1,to:a.currentPage*a.resultsPerPage+a.resultsPerPage})},a.search=function(){a.currentPage=0,a.getResults()},a.nextPage=function(){a.currentPage++,a.getResults()},a.prevPage=function(){a.currentPage--,a.getResults()},a.saveRecipe=function(b){c.recipes?a.isSaved(b)||c.recipes.push(b):c.recipes=[b],a.currentRecipe=b.recipe.label,a.recipeSaved={success:!0}},a.isSaved=function(a){if(!c.recipes||!c.recipes.length)return!1;for(var b=!1,d=0;d<c.recipes.length;d++)if(c.recipes[d].recipe.url===a.recipe.url){b=!0;break}return b}}]),angular.module("angularAppApp").controller("AboutCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("angularAppApp").controller("FavoritesCtrl",["$scope","$localStorage",function(a,b){a.recipes=b.recipes||[]}]),angular.module("angularAppApp").factory("current",["$resource",function(a){return a("https://api.edamam.com/search?q=:search&health=vegan&from=:from&to=:to&app_id=7a4648b9&app_key=fc9cc19841af01b1f07091603f0e4b87&callback=JSON_CALLBACK",{},{query:{method:"JSONP",params:{search:"",from:0,to:10},isArray:!1}})}]),angular.module("angularAppApp").run(["$templateCache",function(a){a.put("views/about.html","<p>This is the about view.</p>"),a.put("views/favorites.html",'<h2>Favorite Recipes</h2> <div ng-if="recipes.length"> <div ng-repeat="hit in recipes"> <h3><a target="_blank" href="{{hit.recipe.url}}">{{hit.recipe.label}}</a></h3> </div> </div> <div ng-if="!recipes.length"> <p>Sorry, you do not have any saved recipes</p> </div>'),a.put("views/main.html",'<div> <h1>Veegalicious</h1> <h3>Search for delicious, vegan recipes!</h3> <form ng-submit="search()"> <div class="form-group"> <div class="input-group"> <input type="text" class="form-control" ng-model="searchTerm" placeholder="Search"> <span class="input-group-btn"><button type="submit" class="btn btn-primary"><span class="glyphicon glyphicon-search" aria-hidden="true"></span></button></span> </div> </div> </form> <div ng-if="recipes.hits.length"> <p>Results from {{ recipes.from }} to {{ recipes.to }}</p> <div ng-messages="recipeSaved"> <p class="recipe-saved-alert bg-success text-success" ng-message="success"> {{currentRecipe}} has been saved to your favorites. </p> </div> <div ng-repeat="hit in recipes.hits"> <img target="_blank" src="{{hit.recipe.image}}"> <h3><a target="_blank" href="{{hit.recipe.url}}">{{hit.recipe.label}}</a></h3> <button class="btn btn-default" ng-click="saveRecipe(hit)"><span class="glyphicon glyphicon-heart" aria-hidden="true" style="color: red"></span></button> </div> <button class="btn btn-primary" ng-click="prevPage()" ng-disabled="currentPage == 0">Prev</button> <button class="btn btn-primary" ng-click="nextPage ()">Next</button> </div> </div>')}]);